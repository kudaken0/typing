<html>
<head>
    <meta charset="utf-8">
    <title>タイピングゲーム</title>
<!-- javascript -->
<script>

	let Q = ["apple","banana","melon","mango","strawberry","blueberry","orange","hage","kotougeeizi","tatibanatakasi","inu"];//問題文
	let Q_No = Math.floor( Math.random() * Q.length);//問題をランダムで出題する

	let Q_i = 0;//回答初期値・現在単語どこまで合っているか判定している文字番号
	let Q_l = Q[Q_No].length;//計算用の文字の長さ


window.addEventListener("keydown", push_Keydown);

function push_Keydown(event){

	let keyCode = event.key;
	if (Q_l == Q_l-Q_i){

	        document.getElementById("img").src=Q[Q_No] + ".png";
		document.getElementById("start").innerHTML = Q[Q_No].substring(Q_i, Q_l); //問題を書き出す
		}


	if (Q[Q_No].charAt(Q_i) == keyCode) { //押したキーが合っていたら

		Q_i++; //判定する文章に１足す
		document.getElementById("start").innerHTML = Q[Q_No].substring(Q_i, Q_l); //問題を書き出す

		if (Q_l-Q_i === 0){ //全部正解したら
			
			new Audio('ok.mp3').play(); // 音声再生;
	
			Q_No = Math.floor( Math.random() * Q.length);//問題をランダムで出題する
			Q_i = 0;//回答初期値・現在どこまで合っているか判定している文字番号
			Q_l = Q[Q_No].length;//計算用の文字の長さ


	        	document.getElementById("img").src=Q[Q_No] + ".png";
			document.getElementById("start").innerHTML = Q[Q_No].substring(Q_i, Q_l); //新たな問題を書き出す
		} else {
			new Audio('good.mp3').play(); // 音声再生;
		}
	}
}

</script>

</head>
<body>

<center>
<p><img src="" id="img" /></p>
<h1 id="start" class="text">何かキーを押して下さい(まとも)</h1>
<br>
<br>
<br>
<p>※開発中のため不具合が起こる可能性があります。</p>
<p>※このページでは音が出ます。音無しのページをご希望でしたら下のテキストから行けます。</p>
<a href="./nosound.html" style="color:blue">音無し</a>
<br><a href="./neta/" style="color:blue">本気でふざけにいったページ</a></a>
<br><a  id="start" href="https://github.com/kudaken0/typing" style="color:blue">GitHub</a>
</center>
</body>
</html>